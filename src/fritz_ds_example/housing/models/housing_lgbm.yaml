---
class: fritz_ds_lib.core.model.ModelConfig
name: lgbm
col_target: SalePrice
col_output: &out_cols [SalePrice_predicted]
col_idx:
    - Id
prep_pipeline:
    class: fritz_ds_example.housing.pipelines.tree_based.TreeBasedPipeCfg
    cols_features:
        - OverallQual
        - GarageCars
        - 1stFlrSF
        - FullBath
        - YearBuilt
        - Fireplaces
        - KitchenQual
        - ExterQual
    cols_categorical: &cols_categorical
        - KitchenQual
        - ExterQual
    pipeline_obj_path: fritz_ds_example.housing.pipelines.tree_based.make_pipeline
estimator:
    class: fritz_ds_lib.estimator.adapter.LgbmRegressor
    cols_categorical: !flatten
        - *cols_categorical
    params:
        max_depth: 30
        min_data_in_leaf: 5
        n_estimators: 100
        num_leaves: 31
        objective: l2
        seed: 42
        use_missing: true
cv:
    param_grid:
        estimator__max_depth: [10, 20, 30]
        estimator__min_data_in_leaf: [5, 10, 20, 30]
        estimator__num_leaves: [15, 31, 63]
        estimator__n_estimators: [50, 100, 150]
    scoring: neg_mean_squared_error
    spliter:
        class: fritz_ds_lib.model_selection.cv_split.RollingTimeSeriesSplit
        max_period: 2009-10-01
        periods: 10
        freq: "MS"
        col_date: DateSold
evaluation:
    use_columns: !flatten
        - *out_cols
    metrics:
        - root_mean_squared_error
